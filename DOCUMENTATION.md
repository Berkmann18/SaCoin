<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [pool][1]
-   [constructor][2]
    -   [Parameters][3]
-   [transactions][4]
-   [timestamp][5]
-   [prevHash][6]
-   [hash][7]
-   [height][8]
-   [beneficiaryAddr][9]
-   [transactionFee][10]
-   [calculateHash][11]
-   [updateHash][12]
-   [toString][13]
    -   [Parameters][14]
-   [addTransaction][15]
    -   [Parameters][16]
-   [isValid][17]
-   [isGenesis][18]
-   [mine][19]
-   [constructor][20]
    -   [Parameters][21]
-   [chain][22]
-   [difficulty][23]
-   [miningReward][24]
-   [currency][25]
-   [utpool][26]
-   [pendingTransactions][27]
-   [size][28]
-   [getBlock][29]
    -   [Parameters][30]
-   [getBlockByHash][31]
    -   [Parameters][32]
-   [getAllTransactions][33]
    -   [Parameters][34]
-   [getTransactionsByHash][35]
    -   [Parameters][36]
-   [isValid][37]
-   [toString][38]
    -   [Parameters][39]
-   [\_add][40]
    -   [Parameters][41]
-   [addBlock][42]
    -   [Parameters][43]
-   [addTransaction][44]
    -   [Parameters][45]
-   [minePendingTransactions][46]
    -   [Parameters][47]
-   [createGenesisBlock][48]
    -   [Parameters][49]
-   [clr][50]
-   [setColours][51]
-   [colour][52]
    -   [Parameters][53]
-   [init][54]
    -   [Parameters][55]
-   [Key][56]
-   [genKey][57]
    -   [Parameters][58]
-   [sign][59]
    -   [Parameters][60]
-   [verify][61]
    -   [Parameters][62]
-   [encrypt][63]
    -   [Parameters][64]
-   [decrypt][65]
    -   [Parameters][66]
-   [cloneKey][67]
    -   [Parameters][68]
-   [ExtendedError][69]
    -   [Parameters][70]
-   [parseChilds][71]
    -   [Parameters][72]
-   [Node][73]
-   [constructor][74]
    -   [Parameters][75]
-   [leftChild][76]
-   [rightChild][77]
-   [hash][78]
-   [calculateHash][79]
-   [updateHash][80]
-   [toString][81]
-   [isValid][82]
-   [constructor][83]
    -   [Parameters][84]
-   [data][85]
-   [hash][86]
-   [calculateHash][87]
-   [updateHash][88]
-   [toString][89]
-   [isValid][90]
-   [arrToLeaves][91]
    -   [Parameters][92]
-   [constructor][93]
    -   [Parameters][94]
-   [hash][95]
-   [leaves][96]
-   [layers][97]
-   [root][98]
-   [add][99]
    -   [Parameters][100]
-   [size][101]
-   [calculateHash][102]
-   [updateHash][103]
-   [toString][104]
-   [isValid][105]
-   [print][106]
    -   [Parameters][107]
-   [constructor][108]
    -   [Parameters][109]
-   [calculateHash][110]
-   [updateHash][111]
-   [fromAddr][112]
-   [toAddr][113]
-   [fromPubKey][114]
-   [amount][115]
-   [timestamp][116]
-   [hash][117]
-   [fee][118]
-   [fee][119]
    -   [Parameters][120]
-   [signature][121]
-   [sign][122]
    -   [Parameters][123]
-   [isValid][124]
-   [hasValidSignature][125]
-   [toString][126]
    -   [Parameters][127]
-   [constructor][128]
    -   [Parameters][129]
-   [pool][130]
-   [addUT][131]
    -   [Parameters][132]
-   [clone][133]
-   [toString][134]
-   [calculateAddress][135]
    -   [Parameters][136]
-   [constructor][137]
    -   [Parameters][138]
-   [hasValidAddress][139]
-   [address][140]
-   [publicKey][141]
-   [blockchain][142]
-   [blockchain][143]
    -   [Parameters][144]
-   [secretKey][145]
    -   [Parameters][146]
-   [reset][147]
    -   [Parameters][148]
-   [unspentBalance][149]
    -   [Parameters][150]
-   [calculateBalance][151]
    -   [Parameters][152]
-   [toString][153]
    -   [Parameters][154]
-   [getTransactions][155]
    -   [Parameters][156]
-   [signTransaction][157]
    -   [Parameters][158]
-   [generateAddress][159]
    -   [Parameters][160]

## pool

## constructor

Block.

### Parameters

-   `prevHash` **[string][161]** Previous hash (optional, default `ROOT_HASH`)
-   `transactions` **[Array][162]&lt;Transaction>** List of transactions inside the block (optional, default `[]`)
-   `nonce` **[number][163]** Nonce associated to the block (optional, default `0`)
-   `height` **[number][163]** Height of the block within a chain (optional, default `0`)
-   `beneficiaryAddr` **[string][161]** Address of the beneficiary (optional, default `BANK.address`)
-   `txFee` **[number][163]** Fee for each transaction that will be present in that block (optional, default `TRANSACTION_FEE`)

## transactions

Get the block's transactions.

Returns **[Array][162]&lt;Transaction>** Transaction

## timestamp

Get the timestamp associated to the block.

Returns **[number][163]** Timestamp

## prevHash

Get the previous hash.

Returns **[string][161]** Previous hash

## hash

Get the block's hash which also acts as its header.

Returns **any** Hash

## height

Get the block's height within a chain.

## beneficiaryAddr

Get the block's beneficiary's address.

Returns **[string][161]** Address

## transactionFee

Get the transaction fee.

Returns **[number][163]** 

## calculateHash

Calculate the hash.

## updateHash

Update the hash of the block.

## toString

String representation of a block.

### Parameters

-   `cliColour` **[boolean][164]** Add the CLI colour. (optional, default `true`)

Returns **[string][161]** Block

## addTransaction

Add a transaction to this block.

### Parameters

-   `transaction` **Transaction** New transaction


-   Throws **TransactionError** Invalid transaction
-   Throws **[Error][165]** Transaction already added

**Meta**

-   **deprecated**: This is deprecated.


## isValid

Check if the block is valid.

Returns **[boolean][164]** Validity

## isGenesis

Check if this block is a genesis block.

Returns **[boolean][164]** Genesis block?

## mine

Increment the nonce until a valid hash is obtained with enough 0's at the beginning (based on the difficulty).

## constructor

Creates a blockchain

### Parameters

-   `difficulty` **[number][163]** Difficulty of the hashes (optional, default `DIFFICULTY`)
-   `utpool` **UTPool** Unspent transaction pool (optional, default `newUTPool(UTPOOL)`)
-   `genesisBlock` **Block** Genesis block (optional, default `Blockchain.createGenesisBlock()`)
-   `miningReward` **[number][163]** Mining reward (optional, default `MINING_REWARD`)
-   `currency` **[string][161]** Currency name (optional, default `CURRENCY`)

## chain

Get the blockchain.

Returns **[Array][162]&lt;Block>** Chain

## difficulty

Get the hash difficulty.

Returns **[number][163]** Difficulty

## miningReward

Get the mining reward.

Returns **[number][163]** Reward

## currency

Get the currency.

Returns **[string][161]** Name

## utpool

Get the Unspent Transaction pool.

Returns **UTPool** UT pool

## pendingTransactions

Get the list of pending transactions.

Returns **[Array][162]&lt;Transaction>** Transactions waiting to be in a block

## size

Size of the chain.

Returns **[number][163]** Size

## getBlock

Get a specific block.

### Parameters

-   `index` **[number][163]** Index

Returns **Block** Block

## getBlockByHash

Get a block with a specific hash.

### Parameters

-   `hash` **[string][161]** Hash

Returns **Block** Block

## getAllTransactions

Get all transactions that are in the blockchain.

### Parameters

-   `toString` **[boolean][164]** Get the string variant (optional, default `false`)
-   `cliColour` **[boolean][164]** Set the CLI colour to transactions (optional, default `false`)

Returns **([Array][162]&lt;Transaction> | [Array][162]&lt;[string][161]>)** List of (textual) transactions

## getTransactionsByHash

Get transactions with a specific hash.

### Parameters

-   `hash` **[string][161]** Hash

Returns **[Array][162]&lt;Transaction>** Transactions

## isValid

Validates the chain.

Returns **[boolean][164]** Validity

## toString

String representation.

### Parameters

-   `cliColour` **[boolean][164]** Add the CLI colour (optional, default `true`)

Returns **[string][161]** Blockchain

## \_add

Add a new block.

### Parameters

-   `transactions` **[Array][162]&lt;Transaction>** Data contained in the block
-   `beneficiaryAddr` **[string][161]** Wallet address of the beneficiary (optional, default `this.getBlock(-1).beneficiaryAddr`)

## addBlock

Add a block.

### Parameters

-   `block` **Block** block

## addTransaction

Add a transaction to the list of pending ones.

### Parameters

-   `transaction` **Transaction** New transaction


-   Throws **TransactionError** Undeliverable transaction (negative amount or not enough funds) or invalid transaction or already in the chain

## minePendingTransactions

Mine a new block and prepare the miner's reward.

### Parameters

-   `minerWallet` **Wallet** Wallet of the miner who gained a mining reward

## createGenesisBlock

Create the first (genesis) block.

### Parameters

-   `beneficiaryAddr` **[string][161]?** Address of the beneficiary

Returns **Block** Genesis block

## clr

Taken from ServerBuilder's utils.js file

## setColours

Set a colour scheme for the CLI.

## colour

Colourise something.

### Parameters

-   `name` **[string][161]** Name of the colour in the theme
-   `data` **...any** Data


-   Throws **[Error][165]** Unspecified name

Returns **any** Coloured output

## init

Initialise the configuration's blockchain, bank's wallet and bank's address.

### Parameters

-   `blockchain` **Blockchain?** Blockchain to link
-   `pool` **UTPool** UT pool (optional, default `cfg.BANK.pool`)
-   `beneficiaryAddr` **[string][161]** Beneficiary address of the genesis blocks (optional, default `cfg.BANK.address`)

## Key

A key

Type: (RSAKey | crypto.ECDSA)

## genKey

Generate a public and private key pair using a specified algorithm.

### Parameters

-   `opts` **{type: [string][161], name: [string][161]}** Options containing the type (e.g.: RSA, EC) and name (keylength or curve) (optional, default `KEY_CONFIGS.EC256r1`)

Returns **{pk: [Key][166], sk: [Key][166]}** 

## sign

Sign a message with a private key.

### Parameters

-   `sk` **[Key][166]** Secret key
-   `msg` **[string][161]** Message
-   `bitLen` **[number][163]** Byte length associated to the SHA hash (1, 224, 256, 384, 512) and usually half the key length from genKey(). (optional, default `512`)
-   `alg` **[string][161]** Algorithm (optional, default `'ECDSA'`)

Returns **(void | [string][161])** (byteLen / 2)-bite signature

## verify

Verify a signature.

### Parameters

-   `pk` **[Key][166]** Public key
-   `msg` **[string][161]** Message
-   `sig` **[string][161]** Digital signature
-   `bitLen` **[number][163]** Bit length associated to the SHA hash (1, 224, 256, 384, 512) and usually half the key length from genKey(). (optional, default `512`)
-   `alg` **[string][161]** Algorithm (optional, default `'ECDSA'`)

Returns **(void | [boolean][164])** Signature validity

## encrypt

Encrypt a plaintext.

### Parameters

-   `pk` **[Key][166]** Public key
-   `msg` **[string][161]** Message
-   `alg` **[string][161]** Algorithm to use (optional, default `'RSA'`)

Returns **[string][161]** hex ciphertext

## decrypt

Decrypt a ciphertext.

### Parameters

-   `sk` **[Key][166]** Secret key
-   `cipher` **[string][161]** Ciphertext
-   `alg` **[string][161]** Algorithm to use (optional, default `'RSA'`)

Returns **[string][161]** Plaintext

## cloneKey

Clone a key.

### Parameters

-   `key` **[Key][166]** Original key

Returns **[Key][166]** clone

## ExtendedError

**Extends Error**

-   **See: [https://stackoverflow.com/a/32749533/5893085][167]**

### Parameters

-   `message`  
-   `context`  

## parseChilds

Parse the child of a tree node to prevent calling methods on null.

### Parameters

-   `node` **TreeNode** Node to parse

Returns **{left: [string][161]?, right: [string][161]}** Parsed child

## Node

A tree node.

Type: (TreeNode | LeafNode)

## constructor

Inner tree nodes.

### Parameters

-   `leftChild` **[Node][168]** Left Child
-   `rightChild` **[Node][168]?** Right child (optional, default `null`)

## leftChild

Get the left-hand child of this node.

Returns **[Node][168]?** Left child

## rightChild

Get the right-hand child of this node.

Returns **[Node][168]?** Right child

## hash

Get the node's hash.

Returns **[string][161]** Hash

## calculateHash

Calculate the hash of that node.

Returns **[string][161]** Hash of the node

## updateHash

Update the node's hash.

## toString

String representation of the tree node.

Returns **[string][161]** Tree node

## isValid

Check if the node is valid.

Returns **[boolean][164]** Validity

## constructor

Leaf node of a tree.

### Parameters

-   `data` **any** Data to place in the node

## data

Get the data.

Returns **any** Data

## hash

Get the hash of the leaf.

Returns **[string][161]** Hash

## calculateHash

Calculate the hash of that node.

Returns **[string][161]** Hash of the node

## updateHash

Update the node's hash.

## toString

String representation of the leaf node.

Returns **[string][161]** Leaf node

## isValid

Check if the node is valid.

Returns **[boolean][164]** Validity

## arrToLeaves

Convert an array to a LeafNode list.

### Parameters

-   `arr` **[Array][162]&lt;[string][161]>** Array

Returns **[Array][162]&lt;LeafNode>** Leaf nodes

## constructor

Create a binary Merkel tree.

### Parameters

-   `leaves` **[Array][162]&lt;[string][161]>** Leaves of the tree

## hash

Get the hash representing the tree.

Returns **[string][161]** Hash

## leaves

Get the leaves of the tree.

Returns **[Array][162]&lt;[string][161]>** Leaves

## layers

Get the layers of the tree that comprises leaf nodes at the beginning and tree nodes in the other layers.

Returns **[Array][162]&lt;[Node][168]>** Layers

## root

Get the root node of the tree.

Returns **TreeNode** Root

## add

Add data to the leaves of the tree and update the relevant hashes.

### Parameters

-   `data` **[string][161]** Data

## size

Get the tree' size.

Returns **[number][163]** Size

## calculateHash

Calculate the hash of the tree.

-   Throws **[Error][165]** No leaves to compute

Returns **[string][161]** Hash

## updateHash

Update the tree's hash.

## toString

String representation of a Merkel tree.

Returns **[string][161]** Merkel tree

## isValid

Check the validity of the tree.

Returns **[boolean][164]** Validity

## print

Print the tree.

### Parameters

-   `simplified` **[boolean][164]** Simplify the output (optional, default `false`)
-   `order` **[string][161]** Printing order (pre, in, post) (optional, default `'in'`)

## constructor

Crypto transaction.

### Parameters

-   `fromAddr` **[string][161]** Address of the sender
-   `fromPubKey` **[Key][166]** Public key of the sender
-   `toAddr` **[string][161]** Wallet of the receiver
-   `amount` **[number][163]** Amount of coins (optional, default `0`)
-   `signature` **[string][161]?** Signature of the sender
-   `fee` **[number][163]** Transaction fee (optional, default `0`)

**Meta**

-   **version**: 2

## calculateHash

Calculate the hash of the transaction.

Returns **[string][161]** Hash

## updateHash

Update the hash of the block.

## fromAddr

Get the sender's address.

Returns **[string][161]** Address of the origin

## toAddr

Get the receiver's address.

Returns **[string][161]** Address of the destination

## fromPubKey

Get the public key the transaction comes from.

Returns **[Key][166]** Origin

## amount

Get the transaction's amount.

Returns **[number][163]** Coins

## timestamp

Get the transaction's timestamp.

Returns **[number][163]** Timestamp

## hash

Get the transaction's hash.

Returns **[string][161]** Hash

## fee

Get the transaction's fee.

Returns **[number][163]** Fee

## fee

Change the transaction fee.

### Parameters

-   `val` **[number][163]** New fee

## signature

Get the transaction's signature.

Returns **[string][161]** Signature

## sign

Sign this transaction with a given private key.

### Parameters

-   `sk` **[Key][166]** Secret key

## isValid

Check if the hash is valid.

Returns **[boolean][164]** Validity

## hasValidSignature

Check if the signature is valid.

Returns **[boolean][164]** Validity

## toString

String representation of a transaction.

### Parameters

-   `cliColour` **[boolean][164]** Add the CLI colour. (optional, default `true`)

Returns **[string][161]** Transaction

## constructor

Unspent Transaction Pool.

### Parameters

-   `pool` **[Object][169]** Pool where keys are wallet addresses and values are the amount of unspent coins (optional, default `{}`)

## pool

Get the UT's pool.

Returns **[Object][169]** pool

## addUT

Add an unspent transaction

### Parameters

-   `addr` **[string][161]** Wallet address
-   `amount` **[number][163]** Amount of coins


-   Throws **[TypeError][170]** amount isn't a number

## clone

Clone the pool.

Returns **UTPool** Clone

## toString

String representation.

Returns **[string][161]** UTPool

## calculateAddress

Calculate the address of a wallet.

### Parameters

-   `pubKey` **[Key][166]** Public key
-   `time` **([number][163] \| [Date][171])** Timestamp to use for the generation
-   `pwd` **([string][161] | WordArray)** 

## constructor

Electronic wallet.

### Parameters

-   `blockchain` **Blockchain** Blockchain associated
-   `password` **([string][161] | WordArray)** Password to access fully access the wallet
-   `keyPair` **{pk: [Key][166], sk: [Key][166]}**  (optional, default `genKey()`)
-   `address` **[string][161]** Hex address (optional, default `calculateAddress(keyPair.pk,ts,hash)`)

## hasValidAddress

Check if this wallet has a valid address.

Returns **[boolean][164]** Valid address

## address

Get the wallet's address.

Returns **[string][161]** Hex address

## publicKey

Get the wallet's public key.

Returns **[Key][166]** Public key

## blockchain

Get the associated blockchain.

Returns **Blockchain** Blockchain

## blockchain

Change the associated blockchain

### Parameters

-   `chain` **Blockchain** 

## secretKey

Get the wallet's secret key.

### Parameters

-   `pwd` **([string][161] | WordArray)** Password

## reset

Reset the recovery attempts to 0.

### Parameters

-   `pwd` **([string][161] | WordArray)** Password

## unspentBalance

Get the wallet's balance.

### Parameters

-   `utp` **UTPool** Unspent transactions pool

Returns **[number][163]** Balance from the chain

## calculateBalance

Calculate the wallet's balance by going through its associated blockchain.

### Parameters

-   `blockchain` **Blockchain** Blockchain to use (optional, default `this.blockchain`)

Returns **[number][163]** Calculated balance

## toString

String representation of the wallet.

### Parameters

-   `cliColour` **[boolean][164]** Add CLI colours (optional, default `true`)

Returns **[string][161]** Wallet

## getTransactions

Get all the transactions coming from/to this wallet within its associated blockchain.

### Parameters

-   `blockchain` **Blockchain** Blockchain to use (optional, default `this.blockchain`)

Returns **{in: [Array][162]&lt;Transaction>, out: [Array][162]&lt;Transaction>}** 

## signTransaction

Sign a transaction.

### Parameters

-   `tx` **Transaction** Transaction
-   `pwd` **([string][161] | WordArray)** Password

## generateAddress

Generate a Wallet address.

### Parameters

-   `pubKey` **[Key][166]** Public key of the wallet
-   `pwd` **([string][161] | WordArray)** Password

Returns **[string][161]** Address

[1]: #pool

[2]: #constructor

[3]: #parameters

[4]: #transactions

[5]: #timestamp

[6]: #prevhash

[7]: #hash

[8]: #height

[9]: #beneficiaryaddr

[10]: #transactionfee

[11]: #calculatehash

[12]: #updatehash

[13]: #tostring

[14]: #parameters-1

[15]: #addtransaction

[16]: #parameters-2

[17]: #isvalid

[18]: #isgenesis

[19]: #mine

[20]: #constructor-1

[21]: #parameters-3

[22]: #chain

[23]: #difficulty

[24]: #miningreward

[25]: #currency

[26]: #utpool

[27]: #pendingtransactions

[28]: #size

[29]: #getblock

[30]: #parameters-4

[31]: #getblockbyhash

[32]: #parameters-5

[33]: #getalltransactions

[34]: #parameters-6

[35]: #gettransactionsbyhash

[36]: #parameters-7

[37]: #isvalid-1

[38]: #tostring-1

[39]: #parameters-8

[40]: #_add

[41]: #parameters-9

[42]: #addblock

[43]: #parameters-10

[44]: #addtransaction-1

[45]: #parameters-11

[46]: #minependingtransactions

[47]: #parameters-12

[48]: #creategenesisblock

[49]: #parameters-13

[50]: #clr

[51]: #setcolours

[52]: #colour

[53]: #parameters-14

[54]: #init

[55]: #parameters-15

[56]: #key

[57]: #genkey

[58]: #parameters-16

[59]: #sign

[60]: #parameters-17

[61]: #verify

[62]: #parameters-18

[63]: #encrypt

[64]: #parameters-19

[65]: #decrypt

[66]: #parameters-20

[67]: #clonekey

[68]: #parameters-21

[69]: #extendederror

[70]: #parameters-22

[71]: #parsechilds

[72]: #parameters-23

[73]: #node

[74]: #constructor-2

[75]: #parameters-24

[76]: #leftchild

[77]: #rightchild

[78]: #hash-1

[79]: #calculatehash-1

[80]: #updatehash-1

[81]: #tostring-2

[82]: #isvalid-2

[83]: #constructor-3

[84]: #parameters-25

[85]: #data

[86]: #hash-2

[87]: #calculatehash-2

[88]: #updatehash-2

[89]: #tostring-3

[90]: #isvalid-3

[91]: #arrtoleaves

[92]: #parameters-26

[93]: #constructor-4

[94]: #parameters-27

[95]: #hash-3

[96]: #leaves

[97]: #layers

[98]: #root

[99]: #add

[100]: #parameters-28

[101]: #size-1

[102]: #calculatehash-3

[103]: #updatehash-3

[104]: #tostring-4

[105]: #isvalid-4

[106]: #print

[107]: #parameters-29

[108]: #constructor-5

[109]: #parameters-30

[110]: #calculatehash-4

[111]: #updatehash-4

[112]: #fromaddr

[113]: #toaddr

[114]: #frompubkey

[115]: #amount

[116]: #timestamp-1

[117]: #hash-4

[118]: #fee

[119]: #fee-1

[120]: #parameters-31

[121]: #signature

[122]: #sign-1

[123]: #parameters-32

[124]: #isvalid-5

[125]: #hasvalidsignature

[126]: #tostring-5

[127]: #parameters-33

[128]: #constructor-6

[129]: #parameters-34

[130]: #pool-1

[131]: #addut

[132]: #parameters-35

[133]: #clone

[134]: #tostring-6

[135]: #calculateaddress

[136]: #parameters-36

[137]: #constructor-7

[138]: #parameters-37

[139]: #hasvalidaddress

[140]: #address

[141]: #publickey

[142]: #blockchain

[143]: #blockchain-1

[144]: #parameters-38

[145]: #secretkey

[146]: #parameters-39

[147]: #reset

[148]: #parameters-40

[149]: #unspentbalance

[150]: #parameters-41

[151]: #calculatebalance

[152]: #parameters-42

[153]: #tostring-7

[154]: #parameters-43

[155]: #gettransactions

[156]: #parameters-44

[157]: #signtransaction

[158]: #parameters-45

[159]: #generateaddress

[160]: #parameters-46

[161]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[162]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[163]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[164]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[165]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Error

[166]: #key

[167]: https://stackoverflow.com/a/32749533/5893085

[168]: #node

[169]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[170]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/TypeError

[171]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date
